{% extends "base.html" %}
{% block body %}
<script src="/static/js/index.js"></script>
<!--suppress HtmlUnknownTarget -->
<div class="main-wrapper">
  <table border=0 cellpadding=5 cellspacing=0 >
    <tr>
      <td>
        <table border=0 cellpadding=5 cellspacing=0 width="100%">
          <tr class="summary-header">
            <td>
              <div style="font-size: 20px;">boofuzz Fuzz Control</div>
            </td>
            <td align=right>
              {% if state.session.is_paused %}
                <div id="is_paused_indicator" class="paused" >paused</div>
              {% else %}
                <div id="is_paused_indicator" class="running" >running</div>
              {% endif %}
            </td>
          </tr>
          <tr class="summary-content">
            <td colspan=2 align="center">
              <table border=0 cellpadding=0 cellspacing=5>
                <tr>
                  <td class="summary-content-row-header-text">Total:</td>
                  <td id="current_index"> {{ state.total_mutant_index }} </td>
                  <td> of </td>
                  <td id="num_mutations"> {{ state.total_num_mutations }} </td>
                  <td class="fixed" id="progress_bar_total"> {{ state.progress_total_bar | safe }} </td>
                  <td id="progress_percentage_total"> {{ state.progress_total }} </td>
                </tr>
                <tr>
                  <td id="current_element" class="summary-content-row-header-text"> {{ state.current_name }}: </td>
                  <td id="current_index_element"> {{ state.current_mutant_index }} </td>
                  <td> of </td>
                  <td id="num_mutations_element"> {{ state.current_num_mutations }} </td>
                  <td id="progress_bar_element" class="fixed"> {{ state.progress_current_bar | safe }} </td>
                  <td id="progress_percentage_element"> {{ state.progress_current }} </td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td>
              <form method=get action="/togglepause">
                <input class="input" type="submit" value="Pause">
              </form>
            </td>
          </tr>
        </table>

        <table id="crash-summary-table" border=0 cellpadding=5 cellspacing=0 width="100%%">
          <tr class="summary-header">
            <td nowrap>Test Case #</td>
            <td>Crash Synopsis</td>
            <!--<td nowrap>Captured Bytes</td>-->
          </tr>
          {% for crash in crashes %}
            <tr>
              <td class="fixed"> <a href="/test-case/{{crash.key}}"> {{crash.key}} </a> </td>
              <td> {% for reason in crash.reasons %} <div>{{reason}}</div> {% endfor %} </td>
              <!--<td align=right> {{crash.status_bytes}} </td>-->
            </tr>
          {% endfor %}
        </table>
      </td>
    </tr>
  </table>
</div>
{% endblock %}